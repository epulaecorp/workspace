button_card_templates: 
  !include_dir_merge_named button_card_templates

views:
  # Home
  - type: custom:grid-layout
    title: fvicente
    icon: mdi:home
    layout:
      #default
      grid-gap: var(--custom-layout-card-padding)
      grid-template-columns: 0 repeat(1, auto) 0
      grid-template-rows: repeat(3, min-content)
      grid-template-areas: |
        ".  devices   ."
        ".  tasks     ."
        ".  sensors   ."
    cards:
      - type: grid
        title: Fvicente Room
        view_layout:
          grid-area: devices
        columns: 1
        cards:
          - type: custom:swipe-card
            parameters:
              parameters: null
              roundLengths: true
              effect: coverflow
              speed: 650
              spaceBetween: 20
              threshold: 7
              coverflowEffect:
                rotate: 80
                depth: 300
            cards:
              - type: grid
                columns: 3
                cards:
                  - type: custom:button-card
                    entity: light.fvicente
                    name: Luz
                    template:
                      - switch
                      - icon_hue

                  - type: custom:button-card
                    entity: switch.fvicente_backlight_switch
                    name: Respaldo
                    template:
                      - switch
                      - icon_spot

                  - type: custom:button-card
                    entity: fan.fvicente_fan
                    name: Ventilador
                    template:
                      - switch
                      - icon_ventilador

                  - type: custom:button-card
                    entity: switch.fvicente_wfan
                    name: WFan
                    template:
                      - switch
                      - icon_ventilador

                  - type: custom:button-card
                    entity: switch.fvicente_monitor_switch
                    name: Monitor
                      #double_tap_action: !include popup/studio_monitorer.yaml
                    template:
                      - switch
                      - icon_tv
                  
                  - type: custom:button-card
                    entity: remote.fvicente_tv
                    name: Chomecast                      #double_tap_action: !include popup/studio_monitorer.yaml
                    template:
                      - switch
                      - icon_chrome

      - type: grid
        view_layout:
          grid-area: tasks
        columns: 1
        cards:
          - type: conditional
            conditions:
              - condition: state
                entity: binary_sensor.calendar_pendientes
                state: "on"
            card:
              type: custom:atomic-calendar-revive
              name: "Pendientes:"
              maxDaysToShow: 1
              showProgressBar: false
              showEventDate: false
              showAllDayHours: false
              entities:
                - entity: calendar.pendientes
                  color: orange

      - type: grid
        title: sensores
        view_layout:
          grid-area: sensors
        columns: 1
        cards:

          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: fan.fvicente_fan
                name: Temperature
                custom_fields:
                  button:
                    card: 
                      type: custom:button-card
                      entity: fan.fvicente_fan 
                      tap_action: 
                        action: call-service
                        service: fan.toggle
                        data:
                          entity_id: fan.fvicente_fan
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - entity: sensor.fvicente_temperature
                          color: '#0066ff' 
                template:
                  - thermometre
                  - icon_ventilador

              - type: custom:button-card
                entity: sensor.fvicente_humidity
                name: Humidity
                custom_fields:
                  button:
                    card: 
                      type: custom:button-card
                      entity: sensor.fvicente_humidity
#                      hold_action: !include popup/temperature_chambre_william.yaml
#                      tap_action: !include popup/temperature_chambre_william.yaml
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - entity: sensor.fvicente_humidity
                          color: '#0066ff' 
                template:
                  - thermometre
                  - icon_thermometre

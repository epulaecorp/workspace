button_card_templates: 
  !include_dir_merge_named button_card_templates

views:
  # Home
  - type: custom:grid-layout
    layout_type: custom:grid-layout
    title: fvicente
    icon: mdi:home
    layout:
      #default
      grid-gap: var(--custom-layout-card-padding)
      grid-template-columns: 0 repeat(1, 1fr) 0
      grid-template-rows: repeat(3, 1fr)
      grid-template-areas: |
        ".  devices   ."
        ".  tasks     ."
        ".  sensors   ."
      mediaquery:
        #phone
        "(max-width: 800px)":
          grid-gap: calc(var(--custom-layout-card-padding) * 1.7)
          grid-template-columns: 0 repeat(1, 1fr) 0
          grid-template-rows: repeat(3, 1fr)
          grid-template-areas: |
            ".  devices ."
            ".  tasks   ."
            ".  sensors ."
    cards:
      - type: grid
        title: Fvicente Room
        view_layout:
          grid-area: devices
        columns: 1
        cards:
          - type: custom:swipe-card
            parameters:
              parameters: null
              roundLengths: true
              effect: coverflow
              speed: 650
              spaceBetween: 20
              threshold: 7
              coverflowEffect:
                rotate: 80
                depth: 300
            cards:
              - type: grid
                columns: 3
                cards:
                  - type: custom:button-card
                    entity: light.fvicente
                    name: Luz
                    template:
                      - switch
                      - icon_hue

                  - type: custom:button-card
                    entity: switch.fvicente_backlight_switch
                    name: Respaldo
                    template:
                      - switch
                      - icon_spot

                  - type: custom:button-card
                    entity: fan.fvicente_fan
                    name: Ventilador
                    template:
                      - switch
                      - icon_ventilador

                  - type: custom:button-card
                    entity: switch.fvicente_wfan
                    name: WFan
                    template:
                      - switch
                      - icon_ventilador

                  - type: custom:button-card
                    entity: switch.fvicente_monitor_switch
                    name: Monitor
                      #double_tap_action: !include popup/studio_monitorer.yaml
                    template:
                      - switch
                      - icon_tv
                  
                  - type: custom:button-card
                    entity: remote.fvicente_tv
                    name: Chomecast                      #double_tap_action: !include popup/studio_monitorer.yaml
                    template:
                      - switch
                      - icon_chrome

      - type: grid
        view_layout:
          grid-area: tasks
        columns: 1
        cards:
          - type: conditional
            conditions:
              - condition: state
                entity: binary_sensor.calendar_pendientes
                state: "on"
            card:
              type: custom:atomic-calendar-revive
              name: "Pendientes:"
              maxDaysToShow: 1
              showProgressBar: false
              showEventDate: false
              showAllDayHours: false
              entities:
                - entity: calendar.pendientes
                  color: orange

      - type: grid
        title: sensors
        view_layout:
          grid-area: sensors
        columns: 1
        cards:

          - type: grid
            columns: 2
            cards:
              - type: custom:apexcharts-card
                graph_span: 24h
                show:
                  last_updated: true
                header:
                  show: true
                  show_states: true
                  title: Temperature
                series:
                  - entity: sensor.fvicente_temperature
                    type: line
                    color: steelblue
                    group_by:
                      func: last
                      duration: 15m
                    stroke_width: 2.
                    show:
                      extremas: true

              - type: custom:apexcharts-card
                graph_span: 24h
                show:
                  last_updated: true
                header:
                  show: true
                  show_states: true
                  title: Humidity
                series:
                  - entity: sensor.fvicente_humidity
                    type: line
                    color: orangered
                    group_by:
                      func: last
                      duration: 15m
                    stroke_width: 2
                    show:
                      extremas: true
